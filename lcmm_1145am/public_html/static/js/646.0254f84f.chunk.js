"use strict";(self.webpackChunklcmm=self.webpackChunklcmm||[]).push([[646],{646:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var r=a(43),s=a(339),o=a(862),c=a(579);const i=e=>{var t,a,s,o,i;let{media:n,type:l}=e;const[d,h]=(0,r.useState)(!1),m=(null===(t=n.images)||void 0===t||null===(a=t.find((e=>"poster"===e.coverType)))||void 0===a?void 0:a.remoteUrl)||(null===(s=n.images)||void 0===s||null===(o=s.find((e=>"poster"===e.coverType)))||void 0===o?void 0:o.url)||"https://via.placeholder.com/680x1000?text=No+Image",x="show"===l?n.year:new Date(n.inCinemas||n.digitalRelease||n.physicalRelease||"").getFullYear(),g=n.status,u=(null===(i=n.ratings)||void 0===i?void 0:i.value)||"N/A";return(0,c.jsxs)("div",{className:"media-card bg-dark-200 rounded-lg overflow-hidden shadow-lg h-full flex flex-col",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[(0,c.jsxs)("div",{className:"relative overflow-hidden",style:{minHeight:"250px"},children:[(0,c.jsx)("img",{src:m,alt:n.title,className:"w-full h-auto object-cover transition-transform duration-300",style:{transform:d?"scale(1.05)":"scale(1)"}}),(0,c.jsx)("div",{className:"media-card-overlay absolute inset-0 flex flex-col justify-end p-4 ".concat(d?"opacity-100":"opacity-0"),children:(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsxs)("div",{className:"text-xs text-gray-300 flex items-center",children:[x&&(0,c.jsx)("span",{className:"mr-2",children:x}),g&&(0,c.jsx)("span",{className:"px-1.5 py-0.5 bg-dark-500 rounded text-xs",children:g})]}),"N/A"!==u&&(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-yellow-500 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,c.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,c.jsx)("span",{className:"text-xs text-yellow-500",children:u})]})]})})]}),(0,c.jsxs)("div",{className:"p-4 flex-grow",children:[(0,c.jsx)("h3",{className:"font-bold text-white truncate mb-1",title:n.title,children:n.title}),(0,c.jsx)("p",{className:"text-xs text-gray-400 line-clamp-3",children:n.overview||"No overview available"})]}),(0,c.jsx)("div",{className:"px-4 pb-4",children:"show"===l?(0,c.jsxs)("div",{className:"flex justify-between text-xs text-gray-400",children:[(0,c.jsxs)("span",{children:[n.episodeCount||0," episodes"]}),(0,c.jsxs)("span",{children:[n.seasonCount||0," seasons"]})]}):(0,c.jsxs)("div",{className:"flex justify-between text-xs text-gray-400",children:[(0,c.jsx)("span",{children:n.runtime?"".concat(n.runtime," mins"):"N/A"}),(0,c.jsx)("span",{children:n.hasFile?(0,c.jsx)("span",{className:"text-green-500",children:"Downloaded"}):(0,c.jsx)("span",{className:"text-yellow-500",children:"Pending"})})]})})]})},n=()=>{const[e,t]=(0,r.useState)("shows"),[a,n]=(0,r.useState)([]),[l,d]=(0,r.useState)([]),[h,m]=(0,r.useState)(!0),[x,g]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{m(!0),g(null);try{if("shows"===e){const e=await o.Kf.getSeries();n(e)}else{const e=await o.Fc.getMovies();d(e)}}catch(t){g("Failed to load library. Please try again later."),s.oR.error("Failed to load library"),console.error("Error fetching library:",t)}finally{m(!1)}})()}),[e]),(0,c.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Your Media Library"}),(0,c.jsxs)("div",{className:"bg-dark-200 rounded-lg p-1",children:[(0,c.jsx)("button",{onClick:()=>t("shows"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 ".concat("shows"===e?"bg-primary-500 text-white":"text-gray-300 hover:text-white"),children:"TV Shows"}),(0,c.jsx)("button",{onClick:()=>t("movies"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 ".concat("movies"===e?"bg-primary-500 text-white":"text-gray-300 hover:text-white"),children:"Movies"})]})]}),x&&(0,c.jsx)("div",{className:"rounded-lg bg-red-900/30 border border-red-700 p-4 text-red-100 mb-6",children:x}),h?(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(10)].map(((e,t)=>(0,c.jsxs)("div",{className:"bg-dark-200 rounded-lg overflow-hidden h-80 animate-pulse",children:[(0,c.jsx)("div",{className:"h-3/5 bg-dark-300"}),(0,c.jsxs)("div",{className:"p-4 space-y-3",children:[(0,c.jsx)("div",{className:"h-4 bg-dark-300 rounded w-3/4"}),(0,c.jsx)("div",{className:"h-4 bg-dark-300 rounded w-1/2"}),(0,c.jsx)("div",{className:"h-4 bg-dark-300 rounded w-5/6"})]})]},t)))}):(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:"shows"===e?a.length>0?a.map((e=>(0,c.jsx)(i,{media:e,type:"show"},e.id))):(0,c.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,c.jsx)("h3",{className:"text-xl text-gray-400 mb-4",children:"No TV shows in your library"}),(0,c.jsx)("p",{className:"text-gray-500",children:"Add shows from the Search page"})]}):l.length>0?l.map((e=>(0,c.jsx)(i,{media:e,type:"movie"},e.id))):(0,c.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,c.jsx)("h3",{className:"text-xl text-gray-400 mb-4",children:"No movies in your library"}),(0,c.jsx)("p",{className:"text-gray-500",children:"Add movies from the Search page"})]})})]})}},862:(e,t,a)=>{a.d(t,{Fc:()=>i,Kf:()=>c,i$:()=>n,md:()=>l});var r=a(722);const s="https://lcmm.legendre.cloud",o=localStorage.getItem("lcmm_token");o&&(r.A.defaults.headers.common.Authorization="Bearer ".concat(o));const c={getSeries:async()=>{try{return(await r.A.get("".concat(s,"/api/sonarr?action=series"))).data}catch(e){throw console.error("Error fetching series:",e),e}},getRootFolders:async()=>{try{return(await r.A.get("".concat(s,"/api/sonarr?action=rootfolders"))).data}catch(e){throw console.error("Error fetching root folders:",e),e}},searchSeries:async e=>{try{return(await r.A.get("".concat(s,"/api/sonarr?action=search&term=").concat(encodeURIComponent(e)))).data}catch(t){throw console.error("Error searching series:",t),t}},addSeries:async e=>{try{return(await r.A.post("".concat(s,"/api/sonarr?action=add"),e)).data}catch(t){throw console.error("Error adding series:",t),t}}},i={getMovies:async()=>{try{return(await r.A.get("".concat(s,"/api/radarr?action=movies"))).data}catch(e){throw console.error("Error fetching movies:",e),e}},getRootFolders:async()=>{try{return(await r.A.get("".concat(s,"/api/radarr?action=rootfolders"))).data}catch(e){throw console.error("Error fetching root folders:",e),e}},searchMovies:async e=>{try{return(await r.A.get("".concat(s,"/api/radarr?action=search&term=").concat(encodeURIComponent(e)))).data}catch(t){throw console.error("Error searching movies:",t),t}},addMovie:async e=>{try{return(await r.A.post("".concat(s,"/api/radarr?action=add"),e)).data}catch(t){throw console.error("Error adding movie:",t),t}}},n={getUsers:async()=>{try{return(await r.A.get("".concat(s,"/api/users?action=list"))).data}catch(e){throw console.error("Error fetching users:",e),e}},getUser:async e=>{try{return(await r.A.get("".concat(s,"/api/users?action=get&id=").concat(e))).data}catch(t){throw console.error("Error fetching user:",t),t}},updateUser:async(e,t)=>{try{return(await r.A.put("".concat(s,"/api/users?action=update"),{id:e,role:t})).data}catch(a){throw console.error("Error updating user:",a),a}},deleteUser:async e=>{try{return(await r.A.delete("".concat(s,"/api/users?action=delete&id=").concat(e))).data}catch(t){throw console.error("Error deleting user:",t),t}},getUserActivity:async e=>{try{return(await r.A.get("".concat(s,"/api/users?action=activity&id=").concat(e))).data}catch(t){throw console.error("Error fetching user activity:",t),t}}},l={getInvitations:async()=>{try{return(await r.A.get("".concat(s,"/api/invitations?action=list"))).data}catch(e){throw console.error("Error fetching invitations:",e),e}},createInvitation:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{return(await r.A.post("".concat(s,"/api/invitations?action=create"),{email:e})).data}catch(t){throw console.error("Error creating invitation:",t),t}},deleteInvitation:async e=>{try{return(await r.A.delete("".concat(s,"/api/invitations?action=delete&id=").concat(e))).data}catch(t){throw console.error("Error deleting invitation:",t),t}},getAdditions:async()=>{try{return(await r.A.get("".concat(s,"/api/additions"))).data}catch(e){throw console.error("Error fetching additions:",e),e}}}}}]);
//# sourceMappingURL=646.0254f84f.chunk.js.map